<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nammastay - Find Your Perfect PG</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sixtyfour&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #fdfdfd 30%, #569abb 70%);
            background-size: 400% 400%;
            animation: wave 6s infinite alternate;
            padding: 2rem;
        }

        @keyframes wave {
            0% {
                background-position: 0% 50%;
            }
            100% {
                background-position: 100% 50%;
            }
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 4rem;
            height: calc(100vh - 4rem);
            align-items: center;
        }

        .left-section {
            padding: 2rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            color: #0c4a6e;
            margin-bottom: 1rem;
        }

        .title {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            line-height: 1.2;
            color: #0c4a6e;
            margin-bottom: 1.5rem;
        }

        .description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #334155;
            margin-bottom: 2rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.7);
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .feature-card h3 {
            color: #0c4a6e;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .feature-card p {
            color: #64748b;
            font-size: 0.9rem;
        }

        .search-section {
            background: white;
            padding: 3rem;
            border-radius: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .search-title {
            font-size: 1.8rem;
            color: #0c4a6e;
            margin-bottom: 2rem;
            text-align: center;
        }

        .search-container {
            position: relative;
        }

        input[type="text"] {
            width: 100%;
            padding: 1.2rem 1.5rem;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        input[type="text"]:focus {
            border-color: #0ea5e9;
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
            outline: none;
        }

        .dropdown {
            position: absolute;
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1000;
        }

        .dropdown div {
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .dropdown div:hover {
            background: #f0f9ff;
        }

        button {
            width: 100%;
            padding: 1.2rem;
            background: linear-gradient(45deg, #0ea5e9, #0284c7);
            color: white;
            border: none;
            border-radius: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(14, 165, 233, 0.2);
        }

        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                height: auto;
            }

            .left-section {
                padding: 1rem;
                text-align: center;
            }

            .title {
                font-size: 2.5rem;
            }

            .features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="left-section">
            <div class="logo">Nammastay</div>
            <h1 class="title">Find Your Perfect PG Near Your College</h1>
            <p class="description">
                Welcome to Nammastay, your trusted companion in discovering the best hostels & PG accommodations. 
                We make it easy to find comfortable, affordable, and convenient living spaces near your college.
            </p>
            <div class="features">
                <div class="feature-card">
                    <h3>Smart Location</h3>
                    <p>Find PGs within walking distance of your college</p>
                </div>
                <div class="feature-card">
                    <h3>Verified Listings</h3>
                    <p>All PGs are personally verified for quality</p>
                </div>
                <div class="feature-card">
                    <h3>Compare Options</h3>
                    <p>Easy comparison of amenities and prices</p>
                </div>
                <div class="feature-card">
                    <h3>Quick Booking</h3>
                    <p>Simple and hassle-free booking process</p>
                </div>
            </div>
        </div>

        <div class="search-section">
            <h2 class="search-title">Select Your College</h2>
            <div class="search-container">
                <input type="text" id="college" placeholder="Type your college name..." oninput="filterColleges()">
                <div class="dropdown" id="collegeDropdown"></div>
            </div>
            <button onclick="handleFormSubmit()">Find PGs Near Me</button>
        </div>
    </div>

    <script>
        var colleges = [
            { name: "Anna University", altNames: ["Anna"], location: [13.0131, 80.2364] },
            { name: "University of Madras", altNames: ["Madras University"], location: [13.0662, 80.2830] },
            { name: "Indian Institute Of Technology Madras", altNames: ["IIT Madras", "IIT"], location: [12.9915, 80.2337] },
            { name: "Loyola College", altNames: ["Loyola"], location: [13.0788, 80.2347] },
            { name: "Sathyabama Institute of Science and Technology", altNames: ["Sathyabama"], location: [12.8733, 80.2261] },
            { name: "Madras Christian College", altNames: ["MCC"], location: [12.9213, 80.1220] },
            { name: "SRM Institute of Science and Technology", altNames: ["SRM University", "SRM"], location: [13.0461, 80.1761] },
            { name: "Stella Maris College", altNames: ["Stella Maris"], location: [13.0463, 80.2534] },
            { name: "Women's Christian College", altNames: ["WCC"], location: [13.0702, 80.2492] },
            { name: "Sri Sivasubramaniya Nadar College of Engineering", altNames: ["SSN"], location: [12.7519, 80.2033] },
            { name: "Ethiraj College for Women", altNames: ["Ethiraj"], location: [13.0629, 80.2572] },
            { name: "Presidency College", altNames: ["Presidency"], location: [13.0590, 80.2818] },
            { name: "Sai Ram Engineering College", altNames: ["Sai Ram"], location: [12.9602, 80.0574] },
            { name: "Vellore Institute of Technology", altNames: ["VIT"], location: [12.8406, 80.1534] },
            { name: "Vels Institute of Science, Technology & Advanced Studies", altNames: ["Vels"], location: [12.9577, 80.1599] },
            { name: "Madras Institute of Technology", altNames: ["MIT Chennai", "MIT"], location: [12.9487, 80.1397] },
            { name: "SRM Easwari Engineering College", altNames: ["Easwari"], location: [13.0322, 80.1794] },
            { name: "Saveetha University", altNames: ["Saveetha"], location: [13.0285, 80.0157] },
            { name: "Rajalakshmi Engineering College", altNames: ["Rajalakshmi"], location: [13.0087, 80.0035] },
            { name: "Chennai Institute of Technology", altNames: ["CIT"], location: [12.9719, 80.0435] },
            { name: "M.O.P. Vaishnav College for Women", altNames: ["MOP", "Vaishnav"], location: [13.0557, 80.2503] },
            { name: "Panimalar Engineering College", altNames: ["Panimalar"], location: [13.0492, 80.0754] },
            { name: "SDNB Vaishnav College for Women", altNames: ["SDNB", "Vaishnav"], location: [12.9562, 80.1460] },
            { name: "Pachaiyappa's College", altNames: ["Pachaiyappa"], location: [13.0745, 80.2332] },
            { name: "Hindustan Institute of Technology and Science", altNames: ["HITS", "Hindustan University"], location: [12.9025, 80.2273] },
            { name: "Meenakshi College for Women", altNames: ["Meenakshi College"], location: [13.0568, 80.2357] },
            { name: "Meenakshi Sundararajan Engineering College", altNames: ["Meenakshi Sundararajan"], location: [13.0571, 80.2333] },
            { name: "Jeppiaar Engineering College", altNames: ["Jeppiaar College"], location: [12.8727, 80.2195] },
            { name: "Dhanalakshmi College of Engineering", altNames: ["Dhanalakshmi Engineering"], location: [13.0286, 80.0342] },
            { name: "Alpha Arts and Science College", altNames: ["Alpha College"], location: [13.0371, 80.1484] },
            { name: "KCG College of Technology", altNames: ["KCG Tech"], location: [12.9602, 80.1461] },
            { name: "Vivekananda College", altNames: ["Vivekananda"], location: [13.0205, 80.2678] }
        ];

        function filterColleges() {
            let input = document.getElementById('college').value.toLowerCase();
            let dropdown = document.getElementById('collegeDropdown');
            dropdown.innerHTML = "";

            if (input.length === 0) {
                dropdown.style.display = "none";
                return;
            }

            let filtered = colleges.filter(college =>
                college.name.toLowerCase().startsWith(input) ||
                college.altNames.some(alt => alt.toLowerCase().startsWith(input))
            );

            if (filtered.length === 0) {
                dropdown.style.display = "none";
                return;
            }

            filtered.forEach(college => {
                let div = document.createElement("div");
                div.textContent = college.name;
                div.onclick = () => {
                    document.getElementById('college').value = college.name;
                    dropdown.style.display = "none";
                };
                dropdown.appendChild(div);
            });

            dropdown.style.display = "block";
        }

        function handleFormSubmit() {
            let collegeName = document.getElementById('college').value.trim();
            let selectedCollege = colleges.find(c => c.name.toLowerCase() === collegeName.toLowerCase());

            if (!selectedCollege) {
                alert("College not found. Please enter a valid college name.");
                return;
            }

            fetch('http://127.0.0.1:5000/save_address', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ address: selectedCollege.location, name: selectedCollege.name })
            })
            .then(response => response.json())
            .then(() => window.location.href = "/second_page")
            .catch(error => alert('Error saving address'));
        }
    </script>
</body>
</html>
